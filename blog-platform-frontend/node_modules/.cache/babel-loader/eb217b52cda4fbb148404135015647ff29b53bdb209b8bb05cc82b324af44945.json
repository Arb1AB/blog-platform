{"ast":null,"code":"import _objectSpread from\"C:/Users/Arbisjan/Desktop/GIT/Blog Platform/blog-platform-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import App from\"../App\";import{useNavigate}from\"react-router-dom\";import ReactMarkdown from\"react-markdown\";import{createPost}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";await createPost(token,_objectSpread(_objectSpread({},form),{},{tags:tagsArray}));function NewPost(){const[form,setForm]=useState({title:\"\",content:\"\",tags:\"\"});const navigate=useNavigate();const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{const tagsArray=form.tags.split(\",\").map(t=>({name:t.trim()}));await API.post(\"posts/\",_objectSpread(_objectSpread({},form),{},{tags:tagsArray}));navigate(\"/posts\");}catch(_unused){alert(\"Failed to create post\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"New Post\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"title\",placeholder:\"Title\",onChange:handleChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",placeholder:\"Write in Markdown...\",rows:\"10\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{name:\"tags\",placeholder:\"Tags (comma separated)\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Publish\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Preview\"}),/*#__PURE__*/_jsx(ReactMarkdown,{children:form.content})]});}export default NewPost;","map":{"version":3,"names":["React","useState","App","useNavigate","ReactMarkdown","createPost","jsx","_jsx","jsxs","_jsxs","token","_objectSpread","form","tags","tagsArray","NewPost","setForm","title","content","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","split","map","t","trim","API","post","_unused","alert","children","onSubmit","placeholder","onChange","rows","className","type"],"sources":["C:/Users/Arbisjan/Desktop/GIT/Blog Platform/blog-platform-frontend/src/pages/NewPost.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport App from \"../App\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { createPost } from \"../api\";\r\n\r\nawait createPost(token, { ...form, tags: tagsArray });\r\n\r\n\r\nfunction NewPost() {\r\n  const [form, setForm] = useState({ title: \"\", content: \"\", tags: \"\" });\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const tagsArray = form.tags.split(\",\").map((t) => ({ name: t.trim() }));\r\n      await API.post(\"posts/\", { ...form, tags: tagsArray });\r\n      navigate(\"/posts\");\r\n    } catch {\r\n      alert(\"Failed to create post\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>New Post</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input name=\"title\" placeholder=\"Title\" onChange={handleChange} />\r\n        <textarea name=\"content\" placeholder=\"Write in Markdown...\" rows=\"10\" onChange={handleChange} />\r\n        <input name=\"tags\" placeholder=\"Tags (comma separated)\" onChange={handleChange} />\r\n        <button className=\"btn\" type=\"submit\">Publish</button>\r\n      </form>\r\n      <h3>Preview</h3>\r\n      <ReactMarkdown>{form.content}</ReactMarkdown>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewPost;\r\n"],"mappings":"uJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAC1C,OAASC,UAAU,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAJ,UAAU,CAACK,KAAK,CAAAC,aAAA,CAAAA,aAAA,IAAOC,IAAI,MAAEC,IAAI,CAAEC,SAAS,EAAE,CAAC,CAGrD,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAACH,IAAI,CAAEI,OAAO,CAAC,CAAGf,QAAQ,CAAC,CAAEgB,KAAK,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAE,CAAEL,IAAI,CAAE,EAAG,CAAC,CAAC,CACtE,KAAM,CAAAM,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAiB,YAAY,CAAIC,CAAC,EAAKL,OAAO,CAAAL,aAAA,CAAAA,aAAA,IAAMC,IAAI,MAAE,CAACS,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAAK,EAAE,CAAC,CAEjF,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAChCA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAZ,SAAS,CAAGF,IAAI,CAACC,IAAI,CAACc,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAEC,CAAC,GAAM,CAAEN,IAAI,CAAEM,CAAC,CAACC,IAAI,CAAC,CAAE,CAAC,CAAC,CAAC,CACvE,KAAM,CAAAC,GAAG,CAACC,IAAI,CAAC,QAAQ,CAAArB,aAAA,CAAAA,aAAA,IAAOC,IAAI,MAAEC,IAAI,CAAEC,SAAS,EAAE,CAAC,CACtDK,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAE,MAAAc,OAAA,CAAM,CACNC,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CAAC,CAED,mBACEzB,KAAA,QAAA0B,QAAA,eACE5B,IAAA,OAAA4B,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB1B,KAAA,SAAM2B,QAAQ,CAAEX,YAAa,CAAAU,QAAA,eAC3B5B,IAAA,UAAOgB,IAAI,CAAC,OAAO,CAACc,WAAW,CAAC,OAAO,CAACC,QAAQ,CAAElB,YAAa,CAAE,CAAC,cAClEb,IAAA,aAAUgB,IAAI,CAAC,SAAS,CAACc,WAAW,CAAC,sBAAsB,CAACE,IAAI,CAAC,IAAI,CAACD,QAAQ,CAAElB,YAAa,CAAE,CAAC,cAChGb,IAAA,UAAOgB,IAAI,CAAC,MAAM,CAACc,WAAW,CAAC,wBAAwB,CAACC,QAAQ,CAAElB,YAAa,CAAE,CAAC,cAClFb,IAAA,WAAQiC,SAAS,CAAC,KAAK,CAACC,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClD,CAAC,cACP5B,IAAA,OAAA4B,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB5B,IAAA,CAACH,aAAa,EAAA+B,QAAA,CAAEvB,IAAI,CAACM,OAAO,CAAgB,CAAC,EAC1C,CAAC,CAEV,CAEA,cAAe,CAAAH,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}