{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import App from\"./App\";import PostCard from\"../components/PostCard\";import{fetchPosts,upvotePost}from\"../api\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const posts=await fetchPosts();await upvotePost(id,token);const handleUpvote=async id=>{await API.post(\"posts/\".concat(id,\"/upvote/\"));window.location.reload();};// Inside PostCard component\n/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>handleUpvote(post.id),children:[\"\\u2B06 Upvote (\",post.upvotes,\")\"]});function Posts(){const[posts,setPosts]=useState([]);useEffect(()=>{API.get(\"posts/\").then(res=>setPosts(res.data)).catch(()=>setPosts([]));},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/new\",className:\"btn\",children:\"New Post\"}),/*#__PURE__*/_jsx(\"div\",{children:posts.length>0?posts.map(post=>/*#__PURE__*/_jsx(PostCard,{post:post},post.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No posts yet.\"})})]});}export default Posts;","map":{"version":3,"names":["React","useEffect","useState","Link","App","PostCard","fetchPosts","upvotePost","jsxs","_jsxs","jsx","_jsx","posts","id","token","handleUpvote","API","post","concat","window","location","reload","className","onClick","children","upvotes","Posts","setPosts","get","then","res","data","catch","to","length","map"],"sources":["C:/Users/Arbisjan/Desktop/GIT/Blog Platform/blog-platform-frontend/src/pages/Posts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport PostCard from \"../components/PostCard\";\r\nimport { fetchPosts, upvotePost } from \"../api\";\r\n\r\nconst posts = await fetchPosts();\r\nawait upvotePost(id, token);\r\n\r\nconst handleUpvote = async (id) => {\r\n  await API.post(`posts/${id}/upvote/`);\r\n  window.location.reload();\r\n};\r\n\r\n// Inside PostCard component\r\n<button className=\"btn\" onClick={() => handleUpvote(post.id)}>\r\n  â¬† Upvote ({post.upvotes})\r\n</button>\r\n\r\nfunction Posts() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    API.get(\"posts/\")\r\n      .then((res) => setPosts(res.data))\r\n      .catch(() => setPosts([]));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>All Posts</h2>\r\n      <Link to=\"/posts/new\" className=\"btn\">New Post</Link>\r\n      <div>\r\n        {posts.length > 0 ? (\r\n          posts.map((post) => <PostCard key={post.id} post={post} />)\r\n        ) : (\r\n          <p>No posts yet.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,OAASC,UAAU,CAAEC,UAAU,KAAQ,QAAQ,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAN,UAAU,CAAC,CAAC,CAChC,KAAM,CAAAC,UAAU,CAACM,EAAE,CAAEC,KAAK,CAAC,CAE3B,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAF,EAAE,EAAK,CACjC,KAAM,CAAAG,GAAG,CAACC,IAAI,UAAAC,MAAA,CAAUL,EAAE,YAAU,CAAC,CACrCM,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAED;AACA,aAAAZ,KAAA,WAAQa,SAAS,CAAC,KAAK,CAACC,OAAO,CAAEA,CAAA,GAAMR,YAAY,CAACE,IAAI,CAACJ,EAAE,CAAE,CAAAW,QAAA,EAAC,iBAClD,CAACP,IAAI,CAACQ,OAAO,CAAC,GAC1B,EAAQ,CAAC,CAET,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAACd,KAAK,CAAEe,QAAQ,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACde,GAAG,CAACY,GAAG,CAAC,QAAQ,CAAC,CACdC,IAAI,CAAEC,GAAG,EAAKH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC,CACjCC,KAAK,CAAC,IAAML,QAAQ,CAAC,EAAE,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACElB,KAAA,QAAAe,QAAA,eACEb,IAAA,OAAAa,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBb,IAAA,CAACR,IAAI,EAAC8B,EAAE,CAAC,YAAY,CAACX,SAAS,CAAC,KAAK,CAAAE,QAAA,CAAC,UAAQ,CAAM,CAAC,cACrDb,IAAA,QAAAa,QAAA,CACGZ,KAAK,CAACsB,MAAM,CAAG,CAAC,CACftB,KAAK,CAACuB,GAAG,CAAElB,IAAI,eAAKN,IAAA,CAACN,QAAQ,EAAeY,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACJ,EAAiB,CAAC,CAAC,cAE3DF,IAAA,MAAAa,QAAA,CAAG,eAAa,CAAG,CACpB,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAE,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}