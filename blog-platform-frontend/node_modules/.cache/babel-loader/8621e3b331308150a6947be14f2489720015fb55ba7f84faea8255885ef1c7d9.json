{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import API from\"../api\";import PostCard from\"../components/PostCard\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const handleUpvote=async id=>{await API.post(\"posts/\".concat(id,\"/upvote/\"));window.location.reload();};// Inside PostCard component\n/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>handleUpvote(post.id),children:[\"\\u2B06 Upvote (\",post.upvotes,\")\"]});function Posts(){const[posts,setPosts]=useState([]);useEffect(()=>{API.get(\"posts/\").then(res=>setPosts(res.data)).catch(()=>setPosts([]));},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/new\",className:\"btn\",children:\"New Post\"}),/*#__PURE__*/_jsx(\"div\",{children:posts.length>0?posts.map(post=>/*#__PURE__*/_jsx(PostCard,{post:post},post.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No posts yet.\"})})]});}export default Posts;","map":{"version":3,"names":["React","useEffect","useState","Link","API","PostCard","jsxs","_jsxs","jsx","_jsx","handleUpvote","id","post","concat","window","location","reload","className","onClick","children","upvotes","Posts","posts","setPosts","get","then","res","data","catch","to","length","map"],"sources":["C:/Users/Arbisjan/Desktop/GIT/Blog Platform/blog-platform-frontend/src/pages/Posts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../api\";\r\nimport PostCard from \"../components/PostCard\";\r\n\r\nconst handleUpvote = async (id) => {\r\n  await API.post(`posts/${id}/upvote/`);\r\n  window.location.reload();\r\n};\r\n\r\n// Inside PostCard component\r\n<button className=\"btn\" onClick={() => handleUpvote(post.id)}>\r\n  â¬† Upvote ({post.upvotes})\r\n</button>\r\n\r\nfunction Posts() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    API.get(\"posts/\")\r\n      .then((res) => setPosts(res.data))\r\n      .catch(() => setPosts([]));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>All Posts</h2>\r\n      <Link to=\"/posts/new\" className=\"btn\">New Post</Link>\r\n      <div>\r\n        {posts.length > 0 ? (\r\n          posts.map((post) => <PostCard key={post.id} post={post} />)\r\n        ) : (\r\n          <p>No posts yet.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAE9C,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,KAAM,CAAAP,GAAG,CAACQ,IAAI,UAAAC,MAAA,CAAUF,EAAE,YAAU,CAAC,CACrCG,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAED;AACA,aAAAT,KAAA,WAAQU,SAAS,CAAC,KAAK,CAACC,OAAO,CAAEA,CAAA,GAAMR,YAAY,CAACE,IAAI,CAACD,EAAE,CAAE,CAAAQ,QAAA,EAAC,iBAClD,CAACP,IAAI,CAACQ,OAAO,CAAC,GAC1B,EAAQ,CAAC,CAET,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACdG,GAAG,CAACoB,GAAG,CAAC,QAAQ,CAAC,CACdC,IAAI,CAAEC,GAAG,EAAKH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC,CACjCC,KAAK,CAAC,IAAML,QAAQ,CAAC,EAAE,CAAC,CAAC,CAC9B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,KAAA,QAAAY,QAAA,eACEV,IAAA,OAAAU,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBV,IAAA,CAACN,IAAI,EAAC0B,EAAE,CAAC,YAAY,CAACZ,SAAS,CAAC,KAAK,CAAAE,QAAA,CAAC,UAAQ,CAAM,CAAC,cACrDV,IAAA,QAAAU,QAAA,CACGG,KAAK,CAACQ,MAAM,CAAG,CAAC,CACfR,KAAK,CAACS,GAAG,CAAEnB,IAAI,eAAKH,IAAA,CAACJ,QAAQ,EAAeO,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACD,EAAiB,CAAC,CAAC,cAE3DF,IAAA,MAAAU,QAAA,CAAG,eAAa,CAAG,CACpB,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAE,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}